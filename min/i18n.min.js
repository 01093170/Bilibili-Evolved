(()=>{return(e,t)=>{(async()=>{const n={"日本語":"ja-JP",English:"en-US"};const{map:o}=await t.importAsync(`i18n.${n[e.i18nLanguage]}`);const s=(e,t)=>{const n=document.createTreeWalker(e,NodeFilter.SHOW_TEXT,null,false);let o=n.nextNode();while(o){t(o);o=n.nextNode()}};const l=()=>{for(const{selector:e,text:t}of o.get("*")){const n=document.querySelector(e);if(n){s(n,e=>e.nodeValue=t)}}};const r=e=>{const t=o.get(e.nodeValue.trim());if(t!==undefined){if(typeof t==="string"){e.nodeValue=t}else if(Array.isArray(t)){let n=null;for(const o of t){if(typeof o==="string"){n=o}else{const{text:t,selector:s}=o;if(e.parentElement.matches(s)){n=t}}}if(n!==null){e.nodeValue=n}}else{const{text:n,selector:o}=t;if(e.parentElement.matches(o)){e.nodeValue=n}}}};s(document.body,r);l();Observer.childListSubtree("body",e=>{e.forEach(e=>{if(e.addedNodes.length>0){l()}e.addedNodes.forEach(e=>{if(e.nodeType===Node.TEXT_NODE){r(e)}else{s(e,r)}})})})})()}})();