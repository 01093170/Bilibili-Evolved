(()=>{return(t,e)=>{const n=e.attributes.textValidate.export.Validator;const i=e.attributes.themeColors.export;const s=new i;function o(t){let e=t.nextElementSibling;const n=[];while(e!==null&&!e.classList.contains("category")){n.push(e);e=e.nextElementSibling}return n}function c(t,e){$(`input[type='checkbox'][key='${t}']`).prop("checked",e);$(`input[type='text'][key='${t}']`).val(e)}function a(){for(const[e,n]of Object.entries(t)){c(e,n)}}function l(){$(".gui-settings-mask").on("click",()=>{$(".gui-settings-widgets-box,.gui-settings-box,.gui-settings-mask").removeClass("opened")});$("input[type='text'][key]").each((e,n)=>{$(n).attr("placeholder",t[$(n).attr("key")])});$(".gui-settings-content ul li.category").on("click",t=>{t.currentTarget.classList.toggle("folded");o(t.currentTarget).forEach(t=>t.classList.toggle("folded"))});$(".gui-settings-dropdown>input").on("click",t=>{$(t.currentTarget).parent().toggleClass("opened")});onSettingsChange((t,e,n)=>{c(t,n);a()})}function r(){$("input[type='checkbox'][key]").each((e,n)=>{$(n).on("change",()=>{const e=n.getAttribute("key");const i=n.checked;t[e]=i;saveSettings(t)})});$("input[type='text'][key]").each((e,i)=>{$(i).on("change",()=>{const e=i.getAttribute("key");const s=n.getValidator(e).validate(i.value);t[e]=s;i.value=s;saveSettings(t)})})}function u(){const t={};$(`input[dependencies]`).each((e,n)=>{const i=$(n).attr("dependencies");if(i){t[$(n).attr("key")]=i}});const e=e=>{const n=e.prop("checked");for(const i in t){const s=t[i].split(" ");if(s.indexOf(e.attr("key"))!==-1){let t=true;if(n&&s.every(t=>$(`input[key='${t}']`).prop("checked"))){t=false}const e=$(`li:has(input[key='${i}'])`);const o=t?"addClass":"removeClass";e[o]("disabled");$(`input[key='${i}'][type='text']`).parent()[o]("disabled")}}};$(`input[type='checkbox'][key]`).on("change",t=>e($(t.target))).each((t,n)=>e($(n)))}function p(){if(typeof offlineData!=="undefined"){$("li:has(input[key=useCache])").addClass("disabled");$("input[key=useCache]").prop("disabled",true)}}function d(){$(".gui-settings-content ul li.category").each((t,e)=>{$(e).click()})}function g(){if(!CSS.supports("backdrop-filter","blur(24px)")&&!CSS.supports("-webkit-backdrop-filter","blur(24px)")){$("input[key=blurVideoControl]").prop("disabled",true);t.blurVideoControl=false;saveSettings(t)}}e.applyStyle("guiSettingsStyle");const y=e.data.guiSettingsDom.text;if(y){$("body").append(y);l();p();a();u();s.setupDom();r();d();g()}new SpinQuery(()=>$("body"),t=>t.length>0&&!(unsafeWindow.parent.window===unsafeWindow),t=>$(".gui-settings-icon-panel").css("display","none")).start()}})();