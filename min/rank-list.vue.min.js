(()=>{return(a,i)=>{const t=`<div class=rank-days-list><div class=loading v-if=loading><i class="mdi mdi-18px mdi-loading mdi-spin"></i>加载中...</div><div class=cards v-else-if=cards.length><video-card v-for="card of cards":key=card.id :data=card></video-card></div><div class=empty v-else>空空如也哦 =￣ω￣=</div></div>`;i.applyStyleFromText(`.rank-days-list .loading{height:48px;display:flex;align-items:center;justify-content:center;font-size:11pt;color:#707070}.rank-days-list .loading .mdi{margin-right:8px}body.dark .rank-days-list .loading{color:#eee}.rank-days-list .cards{display:flex;flex-wrap:wrap;align-items:center}`,"rank-list-style");return{export:Object.assign({template:t},{components:{VideoCard:()=>i.importAsync("video-card.vue")},props:["rankDays"],data(){return{cards:[],loading:true}},async mounted(){try{const a=await Ajax.getJsonWithCredentials(`https://api.bilibili.com/x/web-interface/ranking/index?day=${this.rankDays}`);const{getWatchlaterList:t}=await i.importAsync("watchlater-api");const e=await t();if(a.code!==0){throw new Error(a.message)}this.cards=a.data.map(a=>{return{id:a.aid,aid:parseInt(a.aid),title:a.title,upID:a.mid,upName:a.author,coverUrl:a.pic.replace("http://","https://"),description:a.description,durationText:a.duration,playCount:formatCount(a.play),coins:formatCount(a.coins),favorites:formatCount(a.favorites),watchlater:e.includes(a.aid)}})}catch(a){Toast.error(a.message,"排行",3e3)}finally{this.loading=false}}})}}})();