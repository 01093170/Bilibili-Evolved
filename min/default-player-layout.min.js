(()=>{return(e,t)=>{(async()=>{const e=await SpinQuery.select(()=>document.querySelector(`input[key=defaultPlayerLayout]`));if(!e){return}class t{setCookie(e,t){document.cookie=`${e}=${t};path=/;domain=.bilibili.com;max-age=31536000`}clearCookie(e){document.cookie=`${e}=;path=/;domain=.bilibili.com;max-age=0`}useNewLayout(){}useOldLayout(){}setLayout(e){if(e){this.useNewLayout()}else{this.useOldLayout()}}static getAll(){return[new o,new s]}}class o extends t{static get cookieKey(){return"stardustvideo"}useNewLayout(){this.setCookie(this.cookieKey,1)}useOldLayout(){this.setCookie(this.cookieKey,-1)}}class s extends t{static get cookieKey(){return"stardustpgcv"}useNewLayout(){this.setCookie(this.cookieKey,"0606")}useOldLayout(){this.clearCookie(this.cookieKey)}}const i=t.getAll();$(e).on("change",()=>{i.forEach(t=>t.setLayout(e.value==="新版"))})})()}})();