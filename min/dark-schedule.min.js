(()=>{return(e,t)=>{class i{constructor(e){if(arguments.length===0){const e=new Date;this.hour=e.getHours();this.minute=e.getMinutes()}else if(arguments.length===1){[this.hour,this.minute]=e.split(":").slice(0,2).map(e=>this.validatePart(e));this.normalize()}else if(arguments.length===2){[this.hour,this.minute]=arguments}}validatePart(e){const t=parseInt(e);if(!isNaN(t)&&0<=t&&t<=59){return t}else{return null}}normalize(){while(this.minute<0){this.minute+=60;this.hour-=1}while(this.minute>=60){this.minute-=60;this.hour+=1}while(this.hour<0){this.hour+=24}while(this.hour>=24){this.hour-=24}}lessThan(e){if(this.hour<e.hour||this.hour===e.hour&&this.minute<e.minute){return true}return false}greaterThan(e){if(this.hour>e.hour||this.hour===e.hour&&this.minute>e.minute){return true}return false}equals(e){return this.hour===e.hour&&this.minute===e.minute}isInRange(e,t){let i=this.greaterThan(e)&&this.lessThan(t);if(e.greaterThan(t)){i=this.greaterThan(e)||this.lessThan(t)}const s=i||this.equals(e)||this.equals(t);return s}millisecondsBefore(e){let t=(e.hour-this.hour)*3600*1e3+(e.minute-this.minute)*60*1e3;if(this.greaterThan(e)){t+=24*3600*1e3}return t}}function s(){if(e.darkSchedule){const h=new i(e.darkScheduleStart);const r=new i(e.darkScheduleEnd);const n=new i;const u=n.isInRange(h,r);if(e.useDarkStyle!==u){e.useDarkStyle=u;saveSettings(e);t.fetchByKey("useDarkStyle")}let a=0;if(u){a=n.millisecondsBefore(r)}else{a=n.millisecondsBefore(h)}setTimeout(()=>s(),a)}}s();return{ajaxReload:false,export:i}}})();