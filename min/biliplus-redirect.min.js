(()=>{return(i,e)=>{const c=`hd.biliplus.com`;const l=["bilibili.com/video/av","bilibili.com/bangumi/play","bilibili.com/bangumi/media","space.bilibili.com"];return{widget:{condition:()=>{return l.some(i=>document.URL.includes(i))},content:`\n            <button class="gui-settings-flat-button" id="biliplus-redirect">\n                <i class="icon-biliplus"></i>\n                <span>转到BiliPlus</span>\n            </button>`,success:()=>{const i=document.querySelector("#biliplus-redirect");i.addEventListener("click",()=>{if(location.host==="space.bilibili.com"){location.replace(document.URL.replace("space.bilibili.com/",`${c}/space/`))}else if(document.URL.includes("/bangumi/")){location.replace(`https://${c}/video/av${unsafeWindow.aid}/`)}else{location.host=c}})}}}}})();