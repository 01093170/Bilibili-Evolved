(()=>{return(t,e)=>{const s={less:-1,equal:0,greater:1,incomparable:NaN};class n{constructor(t){this.parts=t.split(".").map(t=>parseInt(t));this.versionString=t}compareTo(t){for(let e=0;e<this.parts.length;++e){if(t.parts.length===e){return s.greater}if(this.parts[e]===t.parts[e]){continue}if(this.parts[e]>t.parts[e]){return s.greater}return s.less}if(this.parts.length!==t.parts.length){return s.less}return s.equal}greaterThan(t){return this.compareTo(t)===s.greater}lessThan(t){return this.compareTo(t)===s.less}equals(t){return this.compareTo(t)===s.equal}}const r=new n(e.data.latestVersion.text);const a=new n(t.currentVersion);if(r.greaterThan(a)){return{settingsWidget:{after:()=>$(".gui-settings-content"),content:`<div class="gui-settings-footer${t.blurSettingsPanel?" blur":""}">\n                            <span class="gui-settings-label">新版本${r.versionString}已发布.</span>\n                            <a href="${t.latestVersionLink}">\n                                <button\n                                    class="gui-settings-button"\n                                    id="new-version-update">\n                                    更新\n                                </button>\n                            </a>\n                            <a target="blank"  href="https://github.com/the1812/Bilibili-Evolved/releases">\n                                <button\n                                    class="gui-settings-button">\n                                    详细信息\n                                </button>\n                            </a>\n                        </div>`,success:()=>{SpinQuery.any(()=>$(".gui-settings"),t=>{t.addClass("gui-settings-notification")});const e=`新版本${r.versionString}已发布.  <a class="link" href="${t.latestVersionLink}">更新</a><a class="link" target="_blank"   href="https://github.com/the1812/Bilibili-Evolved/releases">详细信息</a>`;Toast.info(e,"检查更新")}}}}}})();