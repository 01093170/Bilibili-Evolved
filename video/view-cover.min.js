(()=>{return()=>{SpinQuery.any(()=>$("span.settings-category"),n=>{SpinQuery.any(()=>$("meta[itemprop='image']"),e=>{if(e.length>0){$(n.filter((n,e)=>e.innerHTML==="视频")).parent().after(`\n                    <li class="indent-center">\n                    <button\n                        class="gui-settings-button"\n                        title="查看当前视频的封面"\n                        id="view-video-cover">\n                        查看封面\n                    </button>\n                    </li>`);$("#view-video-cover").on("click",()=>{open(e.prop("content"))})}});SpinQuery.any(()=>$(".header-info-ctnr .room-cover"),e=>{const t=e.attr("href").match(/space\.bilibili\.com\/([\d]+)/);if(t&&t[1]){const e=t[1];const i=`https://api.live.bilibili.com/bili/getRoomInfo/${e}`;downloadText(i,e=>{const t=e.slice(1,-2);const i=JSON.parse(t).data.cover;$(n.filter((n,e)=>e.innerHTML==="直播间")).parent().after(`\n                            <li class="indent-center">\n                            <button\n                                class="gui-settings-button"\n                                title="查看当前直播的封面"\n                                id="view-live-cover">\n                                查看封面\n                            </button>\n                            </li>`);$("#view-live-cover").on("click",()=>{open(i)})})}})});return{ajaxReload:false}}})();