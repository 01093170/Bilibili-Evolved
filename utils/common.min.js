const colors={red:"#E53935",pink:"#F06292",purple:"#AB47BC",deepPurple:"#7E57C2",indigo:"#7986CB",blue:"#1E88E5",lightBlue:"#00A0D8",cyan:"#00ACC1",teal:"#26A69A",green:"#66BB6A",lightGreen:"#8BC34A",lime:"#CDDC39",yellow:"#FFEB3B",amber:"#FFC107",orange:"#FF9800",deepOrange:"#FF5722",brown:"#795548",grey:"#757575",blueGrey:"#607D8B"},userSettings={customStyleColor:colors.pink,showBanner:!1,useDarkMode:!0};settings={removeAds:!0,maxQueryRetry:30,queryInterval:500,touchNavBar:!0,touchVideoPlayer:!0,watchLaterRedirect:!0,expandDanmakuList:!0,useNewStyles:!0,customStyleColor:colors.pink,blurBackgroundOpacity:.382,useDarkMode:!0,overrideNavBar:!0,showBanner:!0};for(const key in userSettings)settings[key]=userSettings[key];function waitForQuery(){const MaxRetry=settings.maxQueryRetry;let retry=0;const tryQuery=(query,condition,action,failed)=>{if(retry>=MaxRetry)failed&&failed();else{const result=query();condition(result)?action(result):(retry++,setTimeout(()=>tryQuery(query,condition,action,failed),settings.queryInterval))}};return tryQuery}function getStyle(name){const style=GM_getResourceText(name);function replaceCustomColor(style){const foreground=(()=>{const regex=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(settings.customStyleColor),color=regex?{r:parseInt(regex[1],16),g:parseInt(regex[2],16),b:parseInt(regex[3],16)}:void 0;if(color){const grey=1-(.299*color.r+.587*color.g+.114*color.b)/255;return grey<.35?"#000":"#fff"}return"#fff"})();for(name of(settings.brightness=`${"#000"===foreground?"100":"0"}%`,settings.filterBrightness="#000"===foreground?"0":"100",settings))style=style.replace(`$${name}`,settings[name]);return style}return replaceCustomColor(style,foreground)}