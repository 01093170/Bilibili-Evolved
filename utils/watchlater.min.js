(()=>()=>{const t=t=>{if(0!==t.attr("href").indexOf("watchlater")){const a=t.map((t,a)=>{const e=$(a).attr("href").match(/av[\d]+/);return e&&e[0]?"https://www.bilibili.com/"+e[0]:"javascript:;"});t.each((t,e)=>$(e).attr("href",a[t]).attr("target","_blank"))}};waitForQuery()(()=>$(".av-item>a"),t=>t.length>0,a=>t(a)),waitForQuery()(()=>$(".av-about>a"),t=>t.length>0,a=>t(a)),waitForQuery()(()=>$("div.watch-later-m>ul>div>li>a"),t=>t.length>0,a=>t(a)),waitForQuery()(()=>$(".read-more.mr"),t=>t.length>0,t=>t.remove()),waitForQuery()(()=>$(".read-more-grp>.read-more"),t=>t.length>0,t=>t.css({float:"none",width:"auto"})),waitForQuery()(()=>document.URL.match(/av[\d]+/),t=>t&&-1!==document.URL.indexOf("watchlater"),t=>{const a=t[0];a&&window.location.replace(`https://www.bilibili.com/${a}`)})})();