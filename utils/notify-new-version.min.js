(()=>{return(t,e)=>{const r={less:-1,equal:0,greater:1,incomparable:NaN};class s{constructor(t){this.parts=t.split(".");this.versionString=t}isPositiveInteger(t){return/^\d+$/.test(t)}validateParts(){for(var t=0;t<this.parts.length;++t){if(!this.isPositiveInteger(this.parts[t])){return false}}return true}compareTo(t){if(!this.validateParts()||!t.validateParts()){return r.incomparable}for(let e=0;e<this.parts.length;++e){if(t.parts.length===e){return r.greater}if(this.parts[e]===t.parts[e]){continue}if(this.parts[e]>t.parts[e]){return r.greater}return r.less}if(this.parts.length!==t.parts.length){return r.less}return r.equal}greaterThan(t){return this.compareTo(t)===r.greater}lessThan(t){return this.compareTo(t)===r.less}equals(t){return this.compareTo(t)===r.equal}}const n=new s(e.data.latestVersion.text);const a=new s(t.currentVersion);if(n.greaterThan(a)){SpinQuery.any(()=>$(".gui-settings"),e=>{e.addClass("gui-settings-notification");const r=$(".gui-settings-footer");r.before(`\n                <div class="gui-settings-footer">\n                    <span class="gui-settings-label">新版本${n.versionString}已发布.</span>\n                    <a>\n                        <button\n                            class="gui-settings-button"\n                            id="new-version-update">\n                            更新\n                        </button>\n                    </a>\n                </div>`);$("#new-version-update").parent().attr("href",t.latestVersionLink)})}return{ajaxReload:false}}})();